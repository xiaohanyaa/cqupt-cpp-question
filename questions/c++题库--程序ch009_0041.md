## ch009_0041
``` c++
1)　　//****************
2)　　//Employee.h
3)　　//****************
4)　　struct　EmployeeName{
5)　　　　char　name[20];
6)　　};
7)　　struct　Employee{
8)　　　　long　code;
9)　　　　char　name[20];
10)　　　　float　salary;
11)　　};
12)　　//****************
13)　　//ch09_04.cpp
14)　　//****************
15)　　#include　<iostream>
16)　　#include　"Employee.h"
17)　　using　namespace　std;
18)　　int　mycompare(const　void　*p1,　const　void　*p2);
19)　　void　output(Employee*　ptrArry,　int　cnt);
20)　　EmployeeName　names[6]　=　{　"jone",　"david",　"marit",　"jasen",　"peter",　"yoke"　};
21)　　
22)　　void　main(){
23)　　　　cout　<<　sizeof(Employee)　<<　endl;
24)　　　　int　cnt;
25)　　　　cout　<<　"请输出行数：";
26)　　　　cin　>>　cnt;
27)　　
28)　　　　//定义结构数组
29)　　　　Employee*　ptrArry　=　new　Employee[cnt];
30)　　　　//初始化
31)　　　　for　(int　i　=　0;　i　<　cnt;　i++){
32)　　　　　　ptrArry[i].code　=　i　+　1;
33)　　　　　　ptrArry[i].salary　=　2000　　+　((int)((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100);
34)　　　　　　strncpy_s(ptrArry[i].name,　names[i　%　6].name,　20);
35)　　　　}
36)　　　　//输出
37)　　　　cout　<<　"排序前"　<<　endl;
38)　　　　output(ptrArry,　cnt);
39)　　　　//按工资排序
40)　　　　qsort((void　*)ptrArry,　(size_t)cnt,sizeof(Employee),　mycompare);
41)　　　　//输出
42)　　　　cout　<<　"排序后"　<<　endl;
43)　　　　output(ptrArry,　cnt);
44)　　　　　//释放堆内存
45)　　　　　delete[]　ptrArry;
46)　　　　system("pause");
47)　　}
48)　　void　output(Employee*　ptrArry,　int　cnt){
49)　　　　cout　<<　"工号,\\t姓名，\\t工资"　<<　endl;
50)　　　　for　(int　i　=　0;　i　<　cnt;　i++){
51)　　　　　　cout　<<　ptrArry[i].code
52)　　　　　　　　<<　",\\t"　<<　ptrArry[i].name
53)　　　　　　　　<<　",\\t"　<<　ptrArry[i].salary
54)　　　　　　　　<<　endl;
55)　　　　}
56)　　}
57)　　int　mycompare(const　void　*p1,　const　void　*p2){
58)　　　　int　rt　=　0;
59)　　　　Employee*　a　=　(Employee*)p1;
60)　　　　Employee*　b　=　(Employee*)p2;
61)　　　　if　(a->salary　<　b->salary)
62)　　　　　　rt　=　-1;
63)　　　　else　if　(a->salary　==　b->salary)
64)　　　　　　rt　=　0;
65)　　　　else
66)　　　　　　rt　=　1;
67)　　　　return　rt;
68)　　}

```
### 题目24332
问题：1.　　程序第20行的代码定义的数组names，所分配的内存空间是　（　　　　）个字节：
A.　　24
B.　　28
C.　　120
D.　　33


**解析如下：**

------

解析：程序第20行定义了一个`EmployeeName`类型的数组`names`，包含6个元素。每个`EmployeeName`结构体包含一个`char`数组`name[20]`。`char`类型在C++中通常占用1个字节，因此每个`name`数组占用20个字节。数组`names`包含6个这样的`name`数组，所以总内存空间为6 * 20 = 120个字节。

正确答案：C. 120

```json
{"24332":"C"}
```

------

### 题目24333
问题：2.　　程序第29行代码定义的变量ptrArry，存储在（　　　　）内存空间。
A.　　全局数据区
B.　　栈区
C.　　堆区
D.　　代码区


**解析如下：**

------

解析：程序第29行使用`new`关键字动态分配了一个`Employee`类型的数组`ptrArry`，动态分配的内存存储在堆区。

正确答案：C. 堆区

```json
{"24333":"C"}
```

------

### 题目24334
问题：3.　　程序第29行代码执行后，变量ptrArry的值指向的内存空间是（　　　　）。
A.　　全局数据区
B.　　栈区
C.　　堆区
D.　　代码区


**解析如下：**

------

解析：程序第29行使用`new`关键字动态分配了一个`Employee`类型的数组，`ptrArry`是一个指向该数组的指针。动态分配的内存位于堆区，因此`ptrArry`指向的内存空间是堆区。

正确答案：C. 堆区

```json
{"24334":"C"}
```

------

### 题目24335
问题：4.　　逐语句调试程序，当程序执行第26行时，如果从从键盘输入数字8，当程序执行到37行时，此时ptraArry[3]的成员name的值是（　　　　）。
A.　　“jone”
B.　　“david”
C.　　“marit”
D.　　“jasen”


**解析如下：**

------

解析：程序第26行从键盘输入数字8，初始化`ptrArry`数组时，循环会执行8次。在每次循环中，`ptrArry[i].name`被赋值为`names[i % 6].name`。具体到`ptrArry[3]`，`i`为3，`3 % 6`等于3，所以`ptrArry[3].name`被赋值为`names[3].name`，即"jasen"。

正确答案：D. “jasen”

```json
{"24335":"D"}
```

------

### 题目24336
问题：5.　　逐语句调试程序，当程序执行第26行时，如果从从键盘输入数字8，当程序执行到37行时，此时ptraArry[6]的成员name的值是（　　　　）。
A.　　“jone”
B.　　“david”
C.　　“marit”
D.　　“jasen”


**解析如下：**

------

解析：程序第26行从键盘输入数字8，初始化`ptrArry`数组时，循环会执行8次。在每次循环中，`ptrArry[i].name`被赋值为`names[i % 6].name`。具体到`ptrArry[6]`，`i`为6，`6 % 6`等于0，所以`ptrArry[6].name`被赋值为`names[0].name`，即"jone"。

正确答案：A. “jone”

```json
{"24336":"A"}
```

------

### 题目24337
问题：6.　　程序第40行中出现的语句是一个（　　　　）。
A.　　函数声明
B.　　函数定义
C.　　函数调用
D.　　函数原型


**解析如下：**

------

解析：程序第40行中的`qsort`是一个标准的库函数调用，用于对数组进行排序。该行代码调用了`qsort`函数，并传递了相应的参数。

正确答案：C. 函数调用

```json
{"24337":"C"}
```

------

### 题目24338
问题：7.　　程序第40行qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee),　mycompare)中，mycompare是一个（　　　　）。
A.　　函数指针
B.　　函数定义
C.　　函数形参
D.　　函数原型


**解析如下：**

------

解析：程序第40行中的`mycompare`是传递给`qsort`函数的一个参数，用于比较数组中的元素。在`qsort`函数中，这个参数需要是一个函数指针，指向一个用于比较两个元素的函数。

正确答案：A. 函数指针

```json
{"24338":"A"}
```

------

### 题目24339
问题：8.　　程序第40行qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee),　mycompare)中，有（　　　　）个参数。
A.　　3
B.　　4
C.　　5
D.　　6


**解析如下：**

------

解析：程序第40行的`qsort`函数调用如下：
```cpp
qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee), mycompare);
```
该调用中有四个参数：
1. `(void *)ptrArry`：指向数组的指针
2. `(size_t)cnt`：数组中的元素数量
3. `sizeof(Employee)`：每个元素的大小
4. `mycompare`：用于比较元素的函数指针

因此，共有4个参数。

正确答案：B. 4

```json
{"24339":"B"}
```

------

### 题目24340
问题：9.　　程序第32行的表达式“ptrArry[i].code　=　i　+　1”中有（　　　　）个运算符。
A.　　3
B.　　4
C.　　5
D.　　6


**解析如下：**

------

解析：程序第32行的表达式是：
```cpp
ptrArry[i].code = i + 1
```
该表达式中的运算符如下：
1. `.`：成员访问运算符（`ptrArry[i].code`中的`.`）
2. `=`：赋值运算符
3. `+`：加法运算符

因此，共有3个运算符。

正确答案：A. 3

```json
{"24340":"A"}
```

------

### 题目24341
问题：10.　　程序第33行的表达式“ptrArry[i].salary　=　2000　+　((int)　((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100)”中有（　　　　）个运算符。
A.　　11
B.　　12
C.　　13
D.　　14


**解析如下：**

------

解析：程序第33行的表达式是：
```cpp
ptrArry[i].salary = 2000 + ((int)((double)rand() / (RAND_MAX + 1) * 10000 * 100) / (double)100)
```
该表达式中的运算符如下：
1. `.`：成员访问运算符（`ptrArry[i].salary`中的`.`）
2. `=`：赋值运算符
3. `+`：加法运算符
4. `(`：左括号（共4个）
5. `)`：右括号（共4个）
6. `/`：除法运算符（共2个）
7. `*`：乘法运算符（共1个）
8. `(int)`：强制类型转换运算符
9. `(double)`：强制类型转换运算符（共2个）

因此，共有14个运算符。

正确答案：D. 14

```json
{"24341":"D"}
```

------

