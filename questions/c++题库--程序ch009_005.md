## ch009_005
``` c++
1)　　#include　<iostream>
2)　　#include　"Employee.h"
3)　　using　namespace　std;
4)　　int　mycompare(const　void　*p1,　const　void　*p2);
5)　　void　output(Employee**　ptrArry,　int　cnt);
6)　　EmployeeName　names[6]　=　{　"jone",　"david",　"marit",　"jasen",　"peter",　"yoke"　};
7)　　void　main(){
8)　　int　cnt;
9)　　cout　<<　"请输入行数：";
10)　　cin　>>　cnt;
11)　　//定义结构的指针数组
12)　　Employee**　ptrArry　=　(Employee**)malloc(cnt*sizeof(ptrArry));
13)　　//初始化
14)　　for　(int　i　=　0;　i<cnt;　i++){
15)　　ptrArry[i]　=　new　Employee;//定义结构变量
16)　　ptrArry[i]->code　=　i　+　1;
17)　　ptrArry[i]->salary　=　2000　+　((int)((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100);
18)　　strncpy_s(ptrArry[i]->name,　names[i　%　6].name,　20);
19)　　}
20)　　//输出
21)　　cout　<<　"排序前"　<<　endl;
22)　　output(ptrArry,　cnt);
23)　　//按工资排序
24)　　qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee*),　mycompare);
25)　　//输出
26)　　cout　<<　"排序后"　<<　endl;
27)　　output(ptrArry,　cnt);
28)　　}
29)　　void　output(Employee**　ptrArry,　int　cnt){
30)　　cout　<<　"工号,\\t姓名，\\t工资"　<<　endl;
31)　　for　(int　i　=　0;　i<cnt;　i++){
32)　　cout　<<　ptrArry[i]->code
33)　　<<　",\\t"　<<　ptrArry[i]->name
34)　　<<　",\\t"　<<　ptrArry[i]->salary
35)　　<<　endl;
36)　　}
37)　　}
38)　　int　mycompare(const　void　*p1,　const　void　*p2){
39)　　int　rt　=　0;
40)　　Employee*　a　=　(Employee*)p1;
41)　　Employee*　b　=　(Employee*)p2;
42)　　if　(a->salary　<　b->salary)
43)　　rt　=　-1;
44)　　else　if　(a->salary　==　b->salary)
45)　　rt　=　0;
46)　　else
47)　　rt　=　1;
48)　　return　rt;
49)　　}

//****************
//Employee.h
//****************
struct　EmployeeName{
　　char　name[20];
};
struct　Employee{
　　long　code;
　　char　name[20];
　　double　salary;
};

```
### 题目23979
问题：1.　　12行的对象ptrArry类型是：
A.　　(二级)指针
B.　　数组
C.　　结构体
D.　　二维数组


**解析如下：**

------

解析：
12行的代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 中，`ptrArry` 被定义为一个指向 `Employee*` 类型的指针，即指向指针的指针（二级指针）。

正确答案：A

```json
{"23979":"A"}
```

------

### 题目23980
问题：2.　　执行完12行后，ptrArry的字节大小为：
A.　　32
B.　　cnt*4
C.　　4
D.　　16


**解析如下：**

------

解析：
12行的代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 中，`ptrArry` 是一个指向 `Employee*` 类型的指针数组。`sizeof(ptrArry)` 是一个指针的大小，通常在32位系统上是4字节，在64位系统上是8字节。假设系统是32位的，那么 `ptrArry` 的总大小为 `cnt * 4` 字节。

正确答案：B

```json
{"23980":"B"}
```

------

### 题目23981
问题：3.　　17行的ptrArry[i]->salary的范围是：
A.　　(2000,12000)
B.　　[2000,12000]
C.　　(2000,12000]
D.　　[2000,12000)


**解析如下：**

------

解析：
17行的代码 `ptrArry[i]->salary = 2000 + ((int)((double)rand() / (RAND_MAX + 1) * 10000 * 100) / (double)100);` 中，`rand() / (RAND_MAX + 1)` 生成一个0到1之间的随机浮点数（不包括1），乘以10000后范围是0到10000（不包括10000），再加上2000，范围是2000到12000（不包括12000）。

正确答案：D

```json
{"23981":"D"}
```

------

### 题目23982
问题：4.　　若cnt输入为7，ptrArry[6]->name是：　
A.　　"jone"
B.　　"david"　
C.　　"yoke"
D.　　"marit"


**解析如下：**

------

解析：
在代码中，`names` 数组有6个元素，分别是 `"jone"`, `"david"`, `"marit"`, `"jasen"`, `"peter"`, `"yoke"`。18行的代码 `strncpy_s(ptrArry[i]->name, names[i % 6].name, 20);` 使用了模运算 `i % 6` 来循环使用 `names` 数组中的元素。

若 `cnt` 输入为7，则 `i` 的取值范围是0到6。当 `i` 为6时，`6 % 6` 等于0，所以 `ptrArry[6]->name` 会赋值为 `names[0].name`，即 `"jone"`。

正确答案：A

```json
{"23982":"A"}
```

------

### 题目23983
问题：5.　　若cnt输入为7，则排序前ptrArry[6]->name是：　
A.　　"jone"
B.　　"david"　
C.　　"yoke"
D.　　不存在


**解析如下：**

------

解析：
在代码中，`names` 数组有6个元素，分别是 `"jone"`, `"david"`, `"marit"`, `"jasen"`, `"peter"`, `"yoke"`。18行的代码 `strncpy_s(ptrArry[i]->name, names[i % 6].name, 20);` 使用了模运算 `i % 6` 来循环使用 `names` 数组中的元素。

若 `cnt` 输入为7，则 `i` 的取值范围是0到6。当 `i` 为6时，`6 % 6` 等于0，所以 `ptrArry[6]->name` 会赋值为 `names[0].name`，即 `"jone"`。

正确答案：A

```json
{"23983":"A"}
```

------

### 题目23984
问题：6.　　24行的qsort是什么函数：
A.　　库函数
B.　　用户自定义函数　
C.　　成员函数
D.　　不是函数


**解析如下：**

------

解析：
24行的代码 `qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee*), mycompare);` 中，`qsort` 是C标准库中的快速排序函数，用于对数组进行排序。它是一个库函数。

正确答案：A

```json
{"23984":"A"}
```

------

### 题目23985
问题：7.　　24行的qsort函数的mycompare参数是什么：
A.　　库函数
B.　　用户自定义的比较函数　
C.　　成员函数
D.　　指针


**解析如下：**

------

解析：
24行的代码 `qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee*), mycompare);` 中，`mycompare` 是一个用户自定义的比较函数，用于在 `qsort` 函数中进行元素比较。它需要由用户编写，以符合 `qsort` 的调用约定。

正确答案：B

```json
{"23985":"B"}
```

------

### 题目23986
问题：8.　　24行的qsort函数中的mycompare是什么：
A.　　库函数
B.　　函数的形参　
C.　　成员函数
D.　　函数指针


**解析如下：**

------

解析：
24行的代码 `qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee*), mycompare);` 中，`mycompare` 是一个函数指针，指向用户自定义的比较函数 `int mycompare(const void *p1, const void *p2)`。`qsort` 函数通过这个函数指针调用 `mycompare` 函数来进行元素比较。

正确答案：D

```json
{"23986":"D"}
```

------

### 题目23987
问题：9.　　按工资排序后，是什么样的顺序：
A.　　降序
B.　　升序　
C.　　无序
D.　　不变


**解析如下：**

------

解析：
在38到48行的 `mycompare` 函数中，比较逻辑是：
- 如果 `a->salary < b->salary`，则返回 -1；
- 如果 `a->salary == b->salary`，则返回 0；
- 如果 `a->salary > b->salary`，则返回 1。

这种比较逻辑会导致 `qsort` 函数按照工资的升序进行排序。

正确答案：B

```json
{"23987":"B"}
```

------

### 题目23988
问题：10.　　‘\\t’是什么意思：
A.　　制表符　
B.　　换行
C.　　空格
D.　　回车


**解析如下：**

------

解析：
在C++中，`'\t'` 是一个转义字符，代表制表符（Tab），用于在输出中对齐文本。

正确答案：A

```json
{"23988":"A"}
```

------

