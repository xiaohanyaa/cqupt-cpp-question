## ch009_004
``` c++
1)　　#include　<iostream>
2)　　#include　"Employee.h"
3)　　using　namespace　std;
4)　　int　mycompare(const　void　*p1,　const　void　*p2);
5)　　void　output(Employee*　ptrArry,　int　cnt);
6)　　EmployeeName　names[6]　=　{　"jone",　"david",　"marit",　"jasen",　"peter",　"yoke"　};
7)　　void　main(){
8)　　　　cout　<<　sizeof(Employee)　<<　endl;
9)　　　　int　cnt;
10)　　　　cout　<<　"请输出行数：";
11)　　　　cin　>>　cnt;
12)　　　　Employee*　ptrArry　=　new　Employee[cnt];
13)　　　　for　(int　i　=　0;　i<cnt;　i++){
14)　　　　　　ptrArry[i].code　=　i　+　1;
15)　　　　　　ptrArry[i].salary　=　2000
16)　　　　　　　　+　((int)((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100);
17)　　　　　　strncpy_s(ptrArry[i].name,　names[i　%　6].name,　20);
18)　　　　}
19)　　　　cout　<<　"排序前"　<<　endl;
20)　　　　output(ptrArry,　cnt);
21)　　　　qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee),　mycompare);
22)　　　　cout　<<　"排序后"　<<　endl;
23)　　　　output(ptrArry,　cnt);
24)　　　　system("pause");
25)　　}
26)　　void　output(Employee*　ptrArry,　int　cnt){
27)　　　　cout　<<　"工号,\\t姓名，\\t工资"　<<　endl;
28)　　　　for　(int　i　=　0;　i<cnt;　i++){
29)　　　　　　cout　<<　ptrArry[i].code
30)　　　　　　　　<<　",\\t"　<<　ptrArry[i].name
31)　　　　　　　　<<　",\\t"　<<　ptrArry[i].salary
32)　　　　　　　　<<　endl;
33)　　　　}
34)　　}
35)　　int　mycompare(const　void　*p1,　const　void　*p2){
36)　　　　int　rt　=　0;
37)　　　　Employee*　a　=　(Employee*)p1;
38)　　　　Employee*　b　=　(Employee*)p2;
39)　　　　if　(a->salary　<　b->salary)
40)　　　　　　rt　=　-1;
41)　　　　else　if(a->salary　==　b->salary)
42)　　　　　　rt　=　0;
43)　　　　else
44)　　　　　　rt　=　1;
45)　　　　return　rt;
46)　　}

```
### 题目23970
问题：1.　　在win64系统下，第8行语句“cout　<<　sizeof(Employee)　<<　endl;”的执行结果为？　
A.　　9
B.　　13
C.　　17
D.　　28


**解析如下：**

------

解析：
为了确定第8行语句的执行结果，我们需要知道`Employee`结构体的大小。由于代码中没有直接给出`Employee`的定义，我们需要假设其可能的成员变量和类型。

假设`Employee`结构体定义如下：
```cpp
struct Employee {
    int code;
    double salary;
    char name[20];
};
```
在Win64系统下：
- `int`类型通常占4字节
- `double`类型通常占8字节
- `char[20]`类型占20字节

结构体的总大小通常是各成员大小之和，但可能会因为内存对齐而增加。在64位系统下，结构体的内存对齐可能会导致一些额外的填充。

计算：
- `int code`：4字节
- `double salary`：8字节
- `char name[20]`：20字节

总和为4 + 8 + 20 = 32字节，但由于内存对齐，可能存在额外的填充。通常情况下，结构体会按照最大成员的对齐方式进行对齐，`double`的对齐方式为8字节，所以可能会在`int`和`double`之间添加4字节的填充，使得总大小为36字节。

但考虑到选项中没有36，我们再考虑常见的对齐情况，最终可能会是28字节（如果某些编译器优化对齐方式）。

因此，最接近的合理答案是D. 28。

{'23970':'D'}

------

### 题目23971
问题：2.　　此程序中第16行语句中“RAND_MAX”的值为？
A.　　随机值
B.　　未定义变量
C.　　0
D.　　随机值函数rand()所能返回的最大随机值


**解析如下：**

------

解析：
在C++标准库中，`RAND_MAX`是一个常量，它表示`rand()`函数所能返回的最大随机值。`rand()`函数返回一个介于0到`RAND_MAX`之间的伪随机数。

根据C++标准，`RAND_MAX`至少为32767。

因此，正确答案是D. 随机值函数rand()所能返回的最大随机值。

{'23971':'D'}

------

### 题目23972
问题：3.　　此程序中output函数的功能为？
A.　　按照工资对结构体数组ptrArry前cnt元素进行排序
B.　　输出结构体数组ptrArry首元素中每个成员的值
C.　　输出结构体数组ptrArry前cnt个元素中每个成员的值
D.　　对结构体数组ptrArry进行初始化


**解析如下：**

------

解析：
查看`output`函数的定义：
```cpp
void output(Employee* ptrArry, int cnt){
    cout << "工号,\\t姓名，\\t工资" << endl;
    for (int i = 0; i<cnt; i++){
        cout << ptrArry[i].code
             << ",\\t" << ptrArry[i].name
             << ",\\t" << ptrArry[i].salary
             << endl;
    }
}
```
该函数接收一个指向`Employee`结构体数组的指针`ptrArry`和一个整数`cnt`，然后遍历数组的前`cnt`个元素，并输出每个元素的`code`、`name`和`salary`成员。

因此，`output`函数的功能是输出结构体数组`ptrArry`前`cnt`个元素中每个成员的值。

正确答案是C. 输出结构体数组ptrArry前cnt个元素中每个成员的值。

{'23972':'C'}

------

### 题目23973
问题：4.　　此程序中mycompare函数的功能为？
A.　　对两个Employee结构体指针所指的变量的成员salary的值进行比较，并根据比较结果返回不同的值
B.　　对两个Employee结构体数组内每个元素的成员salary的值进行比较，并根据比较结果返回不同的值
C.　　对形参的两个Employee结构体变量的成员salary的值进行比较，并根据比较结果返回不同的值
D.　　对两个Employee结构体指针所指变量的成员salary的地址进行比较，并根据比较结果返回不同的值


**解析如下：**

------

解析：
查看`mycompare`函数的定义：
```cpp
int mycompare(const void *p1, const void *p2){
    int rt = 0;
    Employee *a = (Employee*)p1;
    Employee *b = (Employee*)p2;
    if (a->salary < b->salary)
        rt = -1;
    else if(a->salary == b->salary)
        rt = 0;
    else
        rt = 1;
    return rt;
}
```
该函数接收两个`const void*`类型的指针`p1`和`p2`，并将它们转换为`Employee*`类型的指针`a`和`b`，然后比较这两个指针所指的`Employee`结构体变量的`salary`成员的值。根据比较结果，返回-1、0或1。

因此，`mycompare`函数的功能是对两个`Employee`结构体指针所指的变量的成员`salary`的值进行比较，并根据比较结果返回不同的值。

正确答案是A. 对两个Employee结构体指针所指的变量的成员salary的值进行比较，并根据比较结果返回不同的值。

{'23973':'A'}

------

### 题目23974
问题：5.　　此程序中第17行strncpy_s函数的功能为？
A.　　字符串复制
B.　　字符串连接
C.　　字符串比较
D.　　在目的字符串中查找源字符串


**解析如下：**

------

解析：
查看第17行代码：
```cpp
strncpy_s(ptrArry[i].name, names[i % 6].name, 20);
```
`strncpy_s`函数是C++中的一个安全字符串复制函数，它的功能是将源字符串复制到目标字符串中，并确保不会超出目标字符串的容量，防止缓冲区溢出。

函数原型为：
```cpp
errno_t strncpy_s(char *dest, size_t destSize, const char *src, size_t count);
```
其中：
- `dest`是目标字符串的指针。
- `destSize`是目标字符串的大小。
- `src`是源字符串的指针。
- `count`是要复制的最大字符数。

在此代码中，`strncpy_s`将`names[i % 6].name`中的字符串复制到`ptrArry[i].name`中，最多复制20个字符。

因此，`strncpy_s`函数的功能是字符串复制。

正确答案是A. 字符串复制。

{'23974':'A'}

------

### 题目23975
问题：6.　　此程序中第24行语句　(double)100　中常数100所占的内存字节数为多少？
A.　　4
B.　　1
C.　　8
D.　　3


**解析如下：**

------

解析：
第24行语句 `(double)100` 是将整数100强制转换为`double`类型。

在C++中，`double`类型的数据通常占用8字节的内存（无论是在32位还是64位系统上）。

尽管100本身是一个整数，但在强制转换为`double`后，它将以`double`类型的格式存储，因此占用8字节的内存。

正确答案是C. 8。

{'23975':'C'}

------

### 题目23976
问题：7.　　此程序中第16行语句中涉及了表达式int与double的操作,int型数据除以double型数据的结果值属于什么类型？
A.　　int
B.　　double
C.　　float
D.　　long


**解析如下：**

------

解析：
查看第16行代码中的相关表达式：
```cpp
((int)((double)rand() / (RAND_MAX + 1) * 10000 * 100) / (double)100)
```
其中涉及到`int`型数据除以`double`型数据的操作：
```cpp
(int)((double)rand() / (RAND_MAX + 1) * 10000 * 100) / (double)100
```
在这个表达式中，`int`型数据 `(int)((double)rand() / (RAND_MAX + 1) * 10000 * 100)` 除以 `double`型数据 `100`。

在C++中，当不同类型的数值进行运算时，会进行类型提升（Type Promotion），通常是提升到范围更大的类型。具体来说，`int`除以`double`时，`int`会先被提升为`double`，然后进行除法运算，结果将是`double`类型。

因此，`int`型数据除以`double`型数据的结果值属于`double`类型。

正确答案是B. double。

{'23976':'B'}

------

### 题目23977
问题：8.　　此程序中output函数的返回值属于什么类型？
A.　　int　
B.　　double
C.　　float
D.　　无返回值


**解析如下：**

------

解析：
查看`output`函数的定义：
```cpp
void output(Employee* ptrArry, int cnt){
    cout << "工号,\\t姓名，\\t工资" << endl;
    for (int i = 0; i<cnt; i++){
        cout << ptrArry[i].code
             << ",\\t" << ptrArry[i].name
             << ",\\t" << ptrArry[i].salary
             << endl;
    }
}
```
从函数定义中可以看出，`output`函数的返回类型是`void`，这意味着该函数没有返回值。

因此，`output`函数的返回值属于无返回值类型。

正确答案是D. 无返回值。

{'23977':'D'}

------

### 题目23978
问题：9.　　此程序中第31行字符　\\t　起到什么作用？
A.　　回车
B.　　回车换行
C.　　水平制表
D.　　退格


**解析如下：**

------

解析：
查看第31行代码：
```cpp
<< ",\\t" << ptrArry[i].name
```
这里的`\\t`实际上是`\t`（转义字符`\`和字符`t`的组合），在C++字符串中`\t`表示水平制表符（Horizontal Tab）。

水平制表符通常用于在输出中对齐文本，使输出更加整齐。

因此，字符`\t`的作用是水平制表。

正确答案是C. 水平制表。

{'23978':'C'}

------

