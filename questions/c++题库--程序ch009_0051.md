## ch009_0051
``` c++
1)　　//****************
2)　　//Employee.h
3)　　//****************
4)　　struct　EmployeeName{
5)　　　　char　name[20];
6)　　};
7)　　struct　Employee{
8)　　　　long　code;
9)　　　　char　name[20];
10)　　　　float　salary;
11)　　};
12)　　//****************
13)　　//ch09_05.cpp
14)　　//****************
15)　　#include　<iostream>
16)　　#include　"Employee.h"
17)　　using　namespace　std;
18)　　int　mycompare(const　void　*p1,　const　void　*p2);
19)　　void　output(Employee**　ptrArry,　int　cnt);
20)　　EmployeeName　names[6]　=　{　"jone",　"david",　"marit",　"jasen",　"peter",　"yoke"　};
21)　　
22)　　void　main(){
23)　　　　int　cnt;
24)　　　　cout　<<　"请输出行数：";
25)　　　　cin　>>　cnt;
26)　　
27)　　　　//定义结构的指针数组
28)　　　　Employee**　ptrArry　=　(Employee**)malloc(cnt*sizeof(ptrArry));
29)　　　　//初始化
30)　　　　for　(int　i　=　0;　i　<　cnt;　i++){
31)　　　　　　ptrArry[i]　=　new　Employee;//定义结构变量
32)　　　　　　ptrArry[i]->code　=　i　+　1;
33)　　　　　　ptrArry[i]->salary　=　2000　+　((int)((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100);
34)　　　　　　strncpy_s(ptrArry[i]->name,　names[i　%　6].name,　20);
35)　　　　}
36)　　　　//输出
37)　　　　cout　<<　"排序前"　<<　endl;
38)　　　　output(ptrArry,　cnt);
39)　　　　//按工资排序
40)　　　　qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee*),　mycompare);
41)　　　　//输出
42)　　　　cout　<<　"排序后"　<<　endl;
43)　　　　output(ptrArry,　cnt);
44)　　　　　　//释放堆内存:　结构对象
45)　　　　for　(int　i　=　0;　i<cnt;　i++){
46)　　　　　　　　delete　ptrArry[i];
47)　　　　}
48)　　　　//释放堆内存:　结构数组
49)　　　　free(ptrArry);
50)　　　　system("pause");
51)　　}
52)　　void　output(Employee**　ptrArry,　int　cnt){
53)　　　　cout　<<　"工号,\\t姓名，\\t工资"　<<　endl;
54)　　　　for　(int　i　=　0;　i　<　cnt;　i++){
55)　　　　　　cout　<<　ptrArry[i]->code
56)　　　　　　　　<<　",\\t"　<<　ptrArry[i]->name
57)　　　　　　　　<<　",\\t"　<<　ptrArry[i]->salary
58)　　　　　　　　<<　endl;
59)　　　　}
60)　　}
61)　　
62)　　int　mycompare(const　void　*p1,　const　void　*p2){
63)　　　　int　rt　=　0;
64)　　　　Employee*　a　=　(Employee*)p1;
65)　　　　Employee*　b　=　(Employee*)p2;
66)　　　　if　(a->salary　<　b->salary)
67)　　　　　　rt　=　-1;
68)　　　　else　if　(a->salary　==　b->salary)
69)　　　　　　rt　=　0;
70)　　　　else
71)　　　　　　rt　=　1;
72)　　　　return　rt;
73)　　}

```
### 题目24342
问题：1.　　程序第19行的函数声明中，形参prtArray的数据类型是　（　　　　）：
A.　　Employee
B.　　Employee*
C.　　Employee**
D.　　Employee*（）


**解析如下：**

------

解析：程序第19行的函数声明为 `void output(Employee** ptrArry, int cnt);`，其中 `ptrArry` 的数据类型是 `Employee**`，即指向 `Employee` 类型的指针的指针。

答案：{'24342':'C'}

------

### 题目24343
问题：2.　　程序第28行代码定义的变量ptrArry，存储在（　　　　）内存空间。
A.　　全局数据区
B.　　栈区
C.　　堆区
D.　　代码区


**解析如下：**

------

解析：程序第28行代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 使用了 `malloc` 函数来分配内存，`malloc` 分配的内存位于堆区。

答案：{'24343':'C'}

------

### 题目24344
问题：3.　　程序第28行代码执行后，变量ptrArry的值指向的内存空间是（　　　　）。
A.　　全局数据区
B.　　栈区
C.　　堆区
D.　　代码区


**解析如下：**

------

解析：程序第28行代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 使用 `malloc` 函数分配了内存，`malloc` 分配的内存位于堆区。因此，变量 `ptrArry` 的值指向的内存空间是堆区。

答案：{'24344':'C'}

------

### 题目24345
问题：4.　　在32位CPU中逐语句调试程序，当程序执行第25行时，如果从从键盘输入数字8，当程序执行完28行后，在将在堆内存分配（　　　　）个字节空间。
A.　　24
B.　　36
C.　　48
D.　　32


**解析如下：**

------

解析：程序第28行代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 中，`cnt` 是从键盘输入的数字，假设输入为8。`ptrArry` 是一个指向 `Employee*` 类型的指针数组。

在32位CPU中，一个指针占4个字节。因此，`sizeof(ptrArry)` 是4个字节。

所以，分配的总内存大小为 `cnt * sizeof(ptrArry) = 8 * 4 = 32` 个字节。

答案：{'24345':'D'}

------

### 题目24346
问题：5.　　在32位CPU中逐语句调试程序，当程序执行完28行后，在将在堆内存分配连续的内存空间，每一个空间存放数据的数据类型是（　　　）。
A.　　Employee
B.　　Employee*
C.　　Employee**
D.　　void　*


**解析如下：**

------

解析：程序第28行代码 `Employee** ptrArry = (Employee**)malloc(cnt*sizeof(ptrArry));` 中，`ptrArry` 是一个指向 `Employee*` 类型的指针数组。`malloc` 分配的内存用于存储这些指针。

在32位CPU中，每个指针占4个字节。因此，分配的内存空间中每个空间存放的数据类型是 `Employee*`。

答案：{'24346':'B'}

------

### 题目24347
问题：6.　　逐语句调试程序，当程序执行第25行时，如果从从键盘输入数字8，当程序执行到37行时，此时ptraArry[3]的成员name的值是（　　　　）。
A.　　“jone”
B.　　“david”
C.　　“marit”
D.　　“jasen”


**解析如下：**

------

解析：程序第20行定义了一个 `EmployeeName` 数组 `names`，包含6个名字。在第34行，`ptrArry[i]->name` 被赋值为 `names[i % 6].name`。

假设从键盘输入数字8，当程序执行到第37行时，`ptrArry[3]` 的 `name` 成员被赋值为 `names[3 % 6].name`，即 `names[3].name`。

根据 `names` 数组的定义，`names[3].name` 是 `"jasen"`。

答案：{'24347':'D'}

------

### 题目24348
问题：7.　　逐语句调试程序，当程序执行第25行时，如果从从键盘输入数字8，当程序执行到37行时，此时ptraArry[6]的成员name的值是（　　　　）。
A.　　“jone”
B.　　“david”
C.　　“marit”
D.　　“jasen”


**解析如下：**

------

解析：程序第20行定义了一个 `EmployeeName` 数组 `names`，包含6个名字。在第34行，`ptrArry[i]->name` 被赋值为 `names[i % 6].name`。

假设从键盘输入数字8，当程序执行到第37行时，`ptrArry` 数组的大小为8。然而，`ptrArry[6]` 超出了数组的实际分配范围（0到7），这会导致未定义行为，理论上可能会访问到无效的内存。

但在假设程序没有崩溃且按照逻辑继续执行的情况下，`ptrArry[6]` 的 `name` 成员会被赋值为 `names[6 % 6].name`，即 `names[0].name`。

根据 `names` 数组的定义，`names[0].name` 是 `"jone"`。

答案：{'24348':'A'}

------

### 题目24349
问题：8.　　程序第40行中出现的语句是一个（　　　　）。
A.　　函数声明
B.　　函数定义
C.　　函数调用
D.　　函数原型


**解析如下：**

------

解析：程序第40行代码 `qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee*), mycompare);` 是对 `qsort` 函数的调用。`qsort` 是标准库中的快速排序函数，用于对数组进行排序。

该行代码不是函数声明、函数定义或函数原型，而是实际调用 `qsort` 函数进行排序操作。

答案：{'24349':'C'}

------

### 题目24350
问题：9.　　程序第40行qsort((void　*)ptrArry,　(size_t)cnt,　sizeof(Employee),　mycompare)中，有（　　　　）个参数。
A.　　3
B.　　4
C.　　5
D.　　6


**解析如下：**

------

解析：程序第40行代码 `qsort((void *)ptrArry, (size_t)cnt, sizeof(Employee*), mycompare);` 中，`qsort` 函数共有4个参数：

1. `(void *)ptrArry`：要排序的数组的指针。
2. `(size_t)cnt`：数组中元素的数量。
3. `sizeof(Employee*)`：数组中每个元素的大小。
4. `mycompare`：用于比较两个元素的函数指针。

因此，该行代码中有4个参数。

答案：{'24350':'B'}

------

### 题目24351
问题：10.　　程序第31行的表达式“ptrArry[i]　=　new　Employee”中有（　　　　）个运算符。
A.　　1
B.　　2
C.　　3
D.　　4


**解析如下：**

------

解析：程序第31行代码 `ptrArry[i] = new Employee;` 中包含以下运算符：

1. `[]`：数组下标运算符，用于访问数组 `ptrArry` 的第 `i` 个元素。
2. `=`：赋值运算符，用于将 `new Employee` 的结果赋值给 `ptrArry[i]`。
3. `new`：动态内存分配运算符，用于分配一个新的 `Employee` 对象。

因此，该表达式中有3个运算符。

答案：{'24351':'C'}

------

### 题目24352
问题：11.　　程序第32行的表达式“ptrArry[i].code　=　i　+　1”中有（　　　　）个运算符。
A.　　3
B.　　4
C.　　5
D.　　6


**解析如下：**

------

解析：程序第32行代码 `ptrArry[i]->code = i + 1;` 中包含以下运算符：

1. `[]`：数组下标运算符，用于访问数组 `ptrArry` 的第 `i` 个元素。
2. `->`：成员访问运算符，用于访问指针 `ptrArry[i]` 所指向对象的成员 `code`。
3. `=`：赋值运算符，用于将 `i + 1` 的结果赋值给 `ptrArry[i]->code`。
4. `+`：加法运算符，用于计算 `i + 1`。

因此，该表达式中有4个运算符。

答案：{'24352':'B'}

------

### 题目24353
问题：12.　　程序第33行的表达式“ptrArry[i].salary　=　2000　+　((int)　((double)rand()　/　(RAND_MAX　+　1)　*　10000　*　100)　/　(double)100)”中有（　　　　）个运算符。
A.　　11
B.　　12
C.　　13
D.　　14


**解析如下：**

------

解析：程序第33行代码 `ptrArry[i]->salary = 2000 + ((int)((double)rand() / (RAND_MAX + 1) * 10000 * 100) / (double)100);` 中包含以下运算符：

1. `[]`：数组下标运算符，用于访问数组 `ptrArry` 的第 `i` 个元素。
2. `->`：成员访问运算符，用于访问指针 `ptrArry[i]` 所指向对象的成员 `salary`。
3. `=`：赋值运算符，用于将右侧表达式的结果赋值给 `ptrArry[i]->salary`。
4. `+`：加法运算符，用于计算 `2000 + ...`。
5. `(` 和 `)`：括号运算符，用于改变运算顺序，共4对。
6. `int`：强制类型转换运算符，用于将表达式结果转换为整型。
7. `double`：强制类型转换运算符，用于将 `rand()` 和 `RAND_MAX + 1` 的结果转换为双精度浮点数，共2次。
8. `/`：除法运算符，用于计算 `rand() / (RAND_MAX + 1)` 和 `... / (double)100`，共2次。
9. `*`：乘法运算符，用于计算 `... * 10000` 和 `... * 100`，共2次。

因此，该表达式中有13个运算符。

答案：{'24353':'C'}

------

