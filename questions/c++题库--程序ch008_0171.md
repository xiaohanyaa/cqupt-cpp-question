## ch008_0171
``` c++
//冒泡排序排序头文件　bubble.h
1)　　void　bubble(int　a[],　int　size,　bool(&fp)(int　&a,　int　&b));
2)　　void　print(int　array[],　int　len);

//冒泡排序排序源文件文件　bubble.cpp
3)　　#include　<iostream>
4)　　#include　"bubble.h"
5)　　using　namespace　std;
6)　　void　print(int　array[],　int　len){
7)　　　　for　(int　i　=　0;　i<len;　i++)　　　//原始顺序输出
8)　　　　　　cout　<<　array[i]　<<　",";
9)　　　　cout　<<　endl;
10)　　}
11)　　void　bubble(int　a[],int　size,bool(&fp)(int　&a,　int　&b))//冒泡排序
12)　　{
13)　　　　int　i,　temp;
14)　　　　for　(int　pass　=　1;　pass<size;　pass++){　　//共比较size-1轮
15)　　　　　　for　(i　=　0;　i<size　-　pass;　i++)　{　　//比较一轮
16)　　　　　　　　if　(fp(a[i],　a[i　+　1]));　　//两个数排序
17)　　　　　　}
18)　　　　　　print(a,　size);
19)　　　　}
20)　　}

//应用程序主模块源文件　chu08_17.cpp
21)　　#include　<iostream>
22)　　#include　"bubble.h"
23)　　using　namespace　std;
24)　　bool　ascending(int　&a,　int　&b);
25)　　bool　descending(int　&a,　int　&b);
26)　　void　main(){
27)　　　　int　array[]　=　{　55,　2,　6,　4,　32,　12,　9,　73,　26,　37　};
28)　　　　int　len　=　sizeof(array)　/　sizeof(int);　　　　//元素个数
29)　　　　print(array,　len);
30)　　　　cout　<<　"升序排序"　<<　endl;
31)　　　　bubble(array,　len,　ascending);　　　　　　//按升序排序
32)　　　　print(array,　len);
33)　　　　cout　<<　"降序排序"　<<　endl;
34)　　　　bubble(array,　len,　descending);　　　　　　//按降序排序
35)　　　　print(array,　len);
36)　　　　system("pause");
37)　　}
38)　　bool　ascending(int　&a,　int　&b){
39)　　　　int　temp;
40)　　　　if　(a>b){
41)　　　　　　temp　=　a;
42)　　　　　　a　=　b;
43)　　　　　　b　=　temp;
44)　　　　　　return　false;
45)　　　　}
46)　　　　return(true);
47)　　}
48)　　bool　descending(int　&a,　int　&b){
49)　　　　int　temp;
50)　　　　if　(a<b){
51)　　　　　　temp　=　a;
52)　　　　　　a　=　b;
53)　　　　　　b　=　temp;
54)　　　　　　return　false;
55)　　　　}
56)　　　　return　(true);
57)　　}

```
### 题目24249
问题：1.　　程序第1行中，函数引用fp指向的函数的形参数据类型依次为（　　　　）：
A.　　int,　int
B.　　int&,　int&
C.　　int*,　int&
D.　　int,　int*


**解析如下：**

------

解析：程序第1行中，函数`bubble`的参数`fp`是一个函数引用，其指向的函数的形参类型为`int &a`和`int &b`，即引用类型。

答案：{'24249':'B'}

------

### 题目24250
问题：2.　　当程序执行第31行bubble函数时，形参fp的值是（　　　　）：
A.　　ascending函数的入口地址
B.　　descending函数的入口地址
C.　　bubble函数的入口地址
D.　　print函数的入口地址


**解析如下：**

------

解析：当程序执行第31行`bubble(array, len, ascending);`时，形参`fp`被赋值为`ascending`函数的入口地址，因为`ascending`是作为第三个参数传递给`bubble`函数的。

答案：{'24250':'A'}

------

### 题目24251
问题：3.　　程序执行完第28行以后，变量len的值为（　　　　）：
A.　　20
B.　　9
C.　　10
D.　　5


**解析如下：**

------

解析：程序第28行计算数组`array`的元素个数。数组`array`有10个元素，`sizeof(array)`是整个数组的大小，`sizeof(int)`是单个元素的大小，所以`len = sizeof(array) / sizeof(int)`的结果是10。

答案：{'24251':'C'}

------

### 题目24252
问题：4.　　将程序第28行代码修改为“int　len　=　sizeof(array)　/　sizeof(array[1])”，变量len的值为（　　　　）：
A.　　5
B.　　10
C.　　20
D.　　4


**解析如下：**

------

解析：将程序第28行代码修改为“int len = sizeof(array) / sizeof(array[1])”，这里的`sizeof(array[1])`是数组第一个元素的大小，与`sizeof(int)`相同。数组`array`有10个元素，所以`len`的值仍然是10。

答案：{'24252':'B'}

------

### 题目24253
问题：5.　　程序第31行bubble函数执行时，需要比较（　　　　）轮：
A.　　9
B.　　10
C.　　11
D.　　20


**解析如下：**

------

解析：程序第31行执行`bubble`函数时，进行升序排序。`bubble`函数中的外层循环是`for (int pass = 1; pass < size; pass++)`，其中`size`是数组的长度。由于数组有10个元素，所以需要比较`size - 1`轮，即10 - 1 = 9轮。

答案：{'24253':'A'}

------

### 题目24254
问题：6.　　程序执行第34行时，array数组元素的值依次为（）：
A.　　55,　2,　6,　4,　32,　12,　9,　73,　26,　37
B.　　2,　6,　4,　32,　12,　55,　9,　73,　26,　37
C.　　2,　4,　6,　9,　12,　26,　32,　37,　55,　73
D.　　73,　55,　37,　32,　26,　12,　9,　6,　4,　2


**解析如下：**

------

解析：程序执行到第34行时，已经完成了升序排序并打印了结果。升序排序后的数组元素依次为`2, 4, 6, 9, 12, 26, 32, 37, 55, 73`。接下来执行降序排序，但在执行第34行时，数组仍然是升序排序后的状态。

答案：{'24254':'C'}

------

### 题目24255
问题：7.　　本程序中，如果将第16行的代码修改为“fp(a[i],　a[i　+　1]);”，如下描述正确的是（　　　）：
A.　　源文件bubble.cpp编译时错误
B.　　程序链接时出错
C.　　程序可以正常运行，但是无法实现排序功能
D.　　程序能够正常运行，与修改前结果一致。


**解析如下：**

------

解析：第16行的代码`if (fp(a[i], a[i + 1]));`中，`fp`是一个函数引用，用于比较两个元素并可能交换它们的位置。如果修改为`fp(a[i], a[i + 1]);`，则去掉了`if`语句和分号，这会导致`fp`函数总是被调用，但不会根据比较结果进行条件判断和元素交换。因此，程序可以正常运行，但由于缺少条件判断，无法实现排序功能。

答案：{'24255':'C'}

------

### 题目24256
问题：8.　　本程序中，当bubble()函数第一次被调用且程序执行到第16行时，如果pass=1,i=0,则第16行的函数调用fp(a[i],　a[i　+　1])返回值是（　）：
A.　　true
B.　　false
C.　　ascending
D.　　descending


**解析如下：**

------

解析：当`bubble()`函数第一次被调用且`pass=1, i=0`时，`a[i]`是数组第一个元素`55`，`a[i + 1]`是数组第二个元素`2`。此时调用`fp(a[i], a[i + 1])`实际上是调用`ascending(55, 2)`。在`ascending`函数中，由于`55 > 2`，会进行交换并返回`false`。

答案：{'24256':'B'}

------

### 题目24257
问题：9.　　本程序中，当bubble()函数第一次被调用且程序执行到第16行时，如果pass=1,i=1,则第16行的函数调用fp(a[i],　a[i　+　1])返回值是（　）：
A.　　true
B.　　false
C.　　ascending
D.　　descending


**解析如下：**

------

解析：当`bubble()`函数第一次被调用且`pass=1, i=1`时，`a[i]`是数组第二个元素`2`（经过第一次交换后），`a[i + 1]`是数组第三个元素`6`。此时调用`fp(a[i], a[i + 1])`实际上是调用`ascending(2, 6)`。在`ascending`函数中，由于`2 < 6`，不会进行交换并返回`true`。

答案：{'24257':'A'}

------

### 题目24258
问题：10.　　本程序中，当bubble()函数第一次被调用且程序执行到第16行时，如果pass=1,i=1,则第16行的函数fp(a[i],　a[i　+　1])形参值依次是（　）：
A.　　55，2
B.　　2，6
C.　　55，6
D.　　6，2


**解析如下：**

------

解析：当`bubble()`函数第一次被调用且`pass=1, i=1`时，`a[i]`是数组第二个元素`2`（经过第一次交换后），`a[i + 1]`是数组第三个元素`6`。此时调用`fp(a[i], a[i + 1])`实际上是调用`ascending(2, 6)`，所以形参值依次是`2`和`6`。

答案：{'24258':'B'}

------

### 题目24259
问题：11.　　本程序中，当bubble()函数第2次被调用且程序执行到第16行时，如果pass=1,i=0,则第16行的函数调用fp(a[i],　a[i　+　1])返回值是（　）：
A.　　false
B.　　true
C.　　ascending
D.　　descending


**解析如下：**

------

解析：当`bubble()`函数第2次被调用（即降序排序）且`pass=1, i=0`时，`a[i]`是数组第一个元素`73`（升序排序后的最后一个元素），`a[i + 1]`是数组第二个元素`55`。此时调用`fp(a[i], a[i + 1])`实际上是调用`descending(73, 55)`。在`descending`函数中，由于`73 > 55`，不会进行交换并返回`true`。

答案：{'24259':'B'}

------

### 题目24260
问题：12.　　本程序中，当bubble()函数第2次被调用且程序执行到第35行时，如果pass=1,i=1,则第35行的函数调用fp(a[i],　a[i　+　1])返回值是（　）：
A.　　true
B.　　false
C.　　ascending
D.　　descending


**解析如下：**

------

解析：当`bubble()`函数第2次被调用（即降序排序）且`pass=1, i=1`时，`a[i]`是数组第二个元素`55`，`a[i + 1]`是数组第三个元素`37`。此时调用`fp(a[i], a[i + 1])`实际上是调用`descending(55, 37)`。在`descending`函数中，由于`55 > 37`，不会进行交换并返回`true`。

答案：{'24260':'A'}

------

### 题目24261
问题：13.　　本程序中，当bubble()函数第2次被调用且程序执行到第35行时，如果pass=1,i=1,则第35行的函数fp(a[i],　a[i　+　1])形参值一次是（　）：
A.　　55，2
B.　　4，6
C.　　55，6
D.　　2，6


**解析如下：**

------

解析：当`bubble()`函数第2次被调用（即降序排序）且`pass=1, i=1`时，`a[i]`是数组第二个元素`55`，`a[i + 1]`是数组第三个元素`37`。此时调用`fp(a[i], a[i + 1])`实际上是调用`descending(55, 37)`，所以形参值依次是`55`和`37`。由于选项中没有`55, 37`的组合，我们需要重新审视选项和题干，确认是否有误。

但根据题干描述和选项，假设题干中的`第35行`是笔误，应为`第16行`，则：

- 在降序排序的第一次pass中，i=1时，`a[i]`是`55`，`a[i+1]`是`37`。

所以正确选项应为：

B. 4，6（假设题干有误，实际应为`55，37`）

但基于题干和选项，我们选择最接近的合理选项。

答案：{'24261':'B'}（假设题干有误，实际应为`55，37`）

注意：如果题干无误，请确认选项是否有误或题干描述是否准确。

------

